# 文件系统

- [文件系统](#文件系统)
  - [文件系统树](#文件系统树)
  - [当前工作目录](#当前工作目录)
  - [列出目录内容](#列出目录内容)
  - [更改当前工作目录](#更改当前工作目录)
  - [绝对路径](#绝对路径)
  - [相对路径](#相对路径)
  - [通配符](#通配符)
    - [常用字符类](#常用字符类)
    - [通配符使用示例](#通配符使用示例)
  - [注意事项](#注意事项)

2022-06-06, 12:13
****

## 文件系统树

Linux 以分层目录结构组织所有文件。在 GNU/Linux 和其它类 Unix 操作系统中，文件放在目录中。所有的文件和目录放在以 "/" 为根的树里。

文件名规则：

- 以 `.` 字符开头的文件名为隐藏文件。此时使用 `ls` 不会列出它们，但是用 `ls -a` 可以；
- 文件名大小写敏感；
- Linux 没有文件扩展名的概念；
- 文件名对标点符号只支持 `.`, `-` 和 `_`；
- 文件名不要使用空格。

|特殊目录|说明|
|---|---|
|`/`|根目录|
|`/bin`|包含系统启动和运行所需的二进制程序|
|`/boot`|包含 Linux 内核、初始 RAM 磁盘映射和启动加载程序|
|`/dev`|包含设备节点的特殊目录，在该目录，内含维护者所有设备的列表|
|`/etc`|包含所有系统层面的配置文件|
|`/home`|用户主目录|
|`/lib`|包含核心系统程序所使用的共享库文件|
|`/media`|包含可移动介质的挂载点，例如 USB 驱动器，CD-ROMs 等等，这些介质连接到计算机后，会自动挂载到这个目录下|
|`/mnt`|早起的 Linux 系统中，该目录包含可移动介质的挂载点|
|`/opt`|用来安装可选的软件。主要用来存储可能安装在系统中的商业软件|
|`/proc`|该目录比较特殊，从存储在硬盘上的文件来说，它不是真正的文件系统。相反，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔|
|`/root`|root 账户的家目录|
|`/sbin`|包含系统二进制文件，通常是完成重大系统任务的程序，通常为超级用户保留|
|`/tmp`|存储由各种程序创建的临时文件。一些配置导致系统每次重新启动时，都会清空这个目录|
|`/usr`|在 Linux 系统中，`/usr` 目录可能是最大的一个，包含普通用户所需要的所有程序和文件|
|`/usr/bin`|包含系统安装的可执行程序，这个目录会包含许多程序|
|`/usr/lib`|包含由 `/usr/bin` 目录中的程序所用的共享库|
|`/usr/local`|是非系统发行版自带程序的安装目录。通常，由源码编译的程序会安装在 `/usr/local/bin` 目录下。新安装的 Linux 系统中会存在这个目录，并且在管理员安装程序之前，这个目录是空的|
|`/usr/sbin`|包含许多系统管理程序|
|`/usr/share`|包含许多由 `/usr/bin` 目录中的程序使用的共享数据。其中包含默认配置文件、图标、桌面背景、音频文件等等|
|`/usr/share/doc`|大多数安装在系统中的软件会包含一些文档，在该目录可以找到按照软件包分类的文档|

## 当前工作目录

当前所在目录称为当前工作目录，使用 [pwd](../command/pwd.md) (print working directory) 显示当前工作目录：

```sh
[root@localhost ~]# pwd
/root
```

## 列出目录内容

使用 [ls](../command/ls.md) 命令列出目录包含的文件及子目录：

```sh
[root@localhost ~]# ls
anaconda-ks.cfg  initial-setup-ks.cfg  local
```

## 更改当前工作目录

使用 [cd](../command/cd.md) 命令更改工作目录。

## 绝对路径

绝对路径从根目录开始。例如，大多数系统程序都安装在 `/usr/bin` 目录，以 `/` 开始，表明为根目录。

## 相对路径

相对路径从工作目录开始：

- `.` 指工作目录
- `..` 指工作目录的父目录

例如，我们先把工作目录切换到 `/usr/bin`：

```sh
[root@localhost ~]# cd /usr/bin
[root@localhost bin]# pwd
/usr/bin
```

然后，把工作目录转到 `/usr/bin` 的父目录 `/usr`。有两种实现方法，使用绝对路径：

```sh
[root@localhost bin]# cd /usr
[root@localhost usr]# pwd
/usr
```

或使用相对路径：

```sh
[root@localhost bin]# pwd
/usr/bin
[root@localhost bin]# cd ..
[root@localhost usr]# pwd
/usr
```

## 通配符

接受文件名为参数的任何命令，都可以使用通配符。

|通配符|含义|
|---|---|
|*|匹配任意多个字符|
|?|匹配任意一个字符|
|[characters]|匹配任意一个属于字符集的字符|
|[!characters]|匹配任意一个不属于字符集的字符|
|[:class]|匹配任意一个属于指定**字符类**的字符|

### 常用字符类

|字符类|含义|
|---|---|
|[:alnum:]|任意一个字母或数字|
|[:alpha:]|任意一个字母|
|[:digit:]|任意一个数字|
|[:lower:]|任意一个小写字母|
|[:upper:]|任意一个大写字母|

### 通配符使用示例

|模式|匹配对象|
|---|---|
|*|所有文件|
|g*|文件名以“g”开头的文件|
|b*.txt|以”b” 开头，中间有零个或任意多个字符，并以”.txt” 结尾的文件|
|Data???|以“Data”开头，其后紧接着 3 个字符的文件|
|[abc]*|文件名以”a”,”b”, 或”c” 开头的文件|
|BACKUP.[0-9][0-9][0-9]|以”BACKUP.” 开头，并紧接着 3 个数字的文件|
|[[:upper:]]*|以大写字母开头的文件|
|[![:digit:]]*|不以数字开头的文件|
|*[[:lower:]123]|文件名以小写字母结尾，或以“1”，“2”，或“3”结尾的文件|

## 注意事项

1. 以 `.` 字符开头的文件名是隐藏文件。用 `ls` 命令不能列出它们，不过用 `ls -a` 就可以。
2. 文件名和命令名大小写铭感。
3. Linux 没有文件扩展名的概念。
4. 虽然 Linux 支持长文件名，可以包含空格和标点符号，不过标点符号仅限于 `.`, `-` 和下划线。且，不过在文件名中使用空格。
