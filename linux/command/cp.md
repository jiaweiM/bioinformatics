# cp

- [cp](#cp)
  - [简介](#简介)
  - [实例](#实例)

2022-06-06, 09:38
@author Jiawei Mao
*****

## 简介

`cp` (copy) 命令用于复制文件或目录。

```sh
cp [选项] 源文件 目标文件
```

|短选项|长选项|说明|
|---|---|---|
|-f||若目标文件已存在，则会直接覆盖原文件|
|`-i`|`--interactive`|若目标文件已存在，询问是否覆盖。默认会覆盖文件|
|`-p`||保留源文件或目录的所有属性|
|`-r`|`--recursive`|递归复制文件和目录，复制目录时需要该选项或 `-a`|
|`-d`||当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录|
|-l||对源文件建立硬连接，而非复制文件|
|-s||对源文件建立符号连接，而非复制文件|
|-b||覆盖已存在的文件目标前将目标文件备份|
|`-v`|`--verbose`|详细显示命令执行信息|
|`-a`|`--archive`|复制时保留属性，包括权限。等价于“pdr”选项|
|`-u`|`--update`|把文件从一个目录复制到另一个目录时，仅复制目标目录中不存在的文件，或者是文件内容新于目标目录中已经存在的文件|

## 实例

- 在当前目录复制 `abc` 并命名为 `def`

```sh
cp abc def
```

- 将文件复制到 `/etc` 目录，并覆盖已有文件

```sh
cp -f ks.cfg /etc
```

- 复制单个文件

```bash
cp file1 file2
```

复制文件 file1 内容到文件 file2。如果 file2 已存在，file2 的内容会被 file1 的内容**重写**。如果 file2 不存在，则创建 file2。

- 复制单个文件——提示

```bash
cp -i file1 file2
```

这条命令和上面的命令一样，除了如果文件 file2 存在的话，在文件 file2 被重写之前，会提示用户确认信息。输入 `y` 确认操作。

- 复制多个文件

```bash
cp file1 file2 dir1
```

复制文件 file1 和文件 file2 到目录 dir1。目录 dir1 必须存在。

- 通用符

```bash
cp dir1/* dir2
```

使用通配符将目录 dir1 中的所有文件都被复制到目录 dir2 中。dir2 必须存在。

- 复制目录

```bash
cp -r dir1 dir2
```

复制目录 dir1 中的内容到目录 dir2。如果目录 dir2 不存在，创建目录 dir2，操作完成后，目录 dir2 中的内容和 dir1 中的一样。如果目录 dir2 存在，则目录 dir1 (和目录中的内容) 将会被复制到 dir2 中。
